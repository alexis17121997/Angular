{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../mi-servicio.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class PedidoComponent {\n  constructor(servicio, router) {\n    this.servicio = servicio;\n    this.router = router;\n    this.pedido = {};\n    this.nombreOk = true;\n    this.direccionOk = true;\n    this.cpOk = true;\n    this.provinciaOk = true;\n    this.telefonoOk = true;\n    this.emailOk = true;\n    this.tarjetaOk = true;\n  }\n  finalizarPedido() {\n    if (this.validarForm()) {\n      this.servicio.registrarPedido(this.pedido).subscribe(res => res == 'ok' ? this.pedidoOk() : alert('No se pudo registrar tu pedido'));\n    }\n  }\n  pedidoOk() {\n    alert('Pedido realizado exitosamente, puedes seguir comprando');\n    this.router.navigate(['listado']);\n  }\n  validarForm() {\n    if (this.pedido.nombre === undefined) {\n      alert('Debes insertar un nombre');\n      this.nombreOk = false;\n      return false;\n    }\n    if (/^[a-zA-Z ]{2,30}$/.test(this.pedido.nombre)) {\n      this.nombreOk = true;\n    } else {\n      alert('Nombre debe tener de 2 a 30 caracteres, solo letras y espacios');\n      this.nombreOk = false;\n      return false;\n    }\n    if (this.pedido.direccion === undefined) {\n      alert('Debes insertar una direccion');\n      this.direccionOk = false;\n      return false;\n    }\n    if (/^[a-zA-Z0-9 ]{3,30}$/.test(this.pedido.direccion)) {\n      this.direccionOk = true;\n    } else {\n      alert('Direccion debe tener de 3 a 30 caracteres, solo letras y espacios');\n      this.direccionOk = false;\n      return false;\n    }\n    if (this.pedido.cp === undefined) {\n      alert('Debes insertar una codigo postal');\n      this.cpOk = false;\n      return false;\n    }\n    if (/^[0-9 ]{5}$/.test(this.pedido.cp)) {\n      this.cpOk = true;\n    } else {\n      alert('Codigo postal debe tener 5 caracteres, solo numeros');\n      this.cpOk = false;\n      return false;\n    }\n    if (this.pedido.provincia === undefined) {\n      alert('Debes insertar una provincia');\n      this.provinciaOk = false;\n      return false;\n    }\n    if (/^[a-zA-Z ]{3,30}$/.test(this.pedido.provincia)) {\n      this.provinciaOk = true;\n    } else {\n      alert('Provincia debe tener de 3 a 30 caracteres, solo letras y espacios');\n      this.provinciaOk = false;\n      return false;\n    }\n    if (this.pedido.telefono === undefined) {\n      alert('Debes insertar un telefono');\n      this.telefonoOk = false;\n      return false;\n    }\n    if (/^[0-9 ]{9}$/.test(this.pedido.telefono)) {\n      this.telefonoOk = true;\n    } else {\n      alert('Telefono debe tener 9 caracteres, solo numeros');\n      this.telefonoOk = false;\n      return false;\n    }\n    if (this.pedido.email === undefined) {\n      alert('Debes insertar un email');\n      this.emailOk = false;\n      return false;\n    }\n    if (/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i.test(this.pedido.email)) {\n      this.emailOk = true;\n    } else {\n      alert('email debe tener de 10 a 30 caracteres, incluyendo @ y punto');\n      this.emailOk = false;\n      return false;\n    }\n    if (this.pedido.tarjeta === undefined) {\n      alert('Debes insertar una tarjeta');\n      this.tarjetaOk = false;\n      return false;\n    }\n    if (/^[0-9 ]{16}$/.test(this.pedido.tarjeta)) {\n      this.tarjetaOk = true;\n    } else {\n      alert('Tarjeta debe tener 16 caracteres, solo numeros');\n      this.tarjetaOk = false;\n      return false;\n    }\n    return true;\n  }\n}\nPedidoComponent.ɵfac = function PedidoComponent_Factory(t) {\n  return new (t || PedidoComponent)(i0.ɵɵdirectiveInject(i1.MiServicioService), i0.ɵɵdirectiveInject(i2.Router));\n};\nPedidoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PedidoComponent,\n  selectors: [[\"app-pedido\"]],\n  decls: 63,\n  vars: 14,\n  consts: [[1, \"w-[30rem]\", \"m-auto\", \"rounded-lg\", \"bg-[#0f172a]\", \"p-3\", \"my-10\", \"text-white\", \"text-xl\", \"lg:text-xl\", \"text-center\", 2, \"font-family\", \"'Dancing Script', cursive, sans-serif\"], [1, \"w-full\", \"overflow-x-auto\", \"relative\", \"sm:rounded-lg\"], [1, \"w-auto\", \"text-sm\", \"text-left\", \"text-gray-600\", \"m-auto\", \"w_auto\", \"shadow-md\"], [1, \"text-xs\", \"text-gray-700\", \"uppercase\", \"bg-gray-50\", \"dark:bg-gray-700\", \"dark:text-gray-400\"], [\"scope\", \"col\", 1, \"py-3\", \"px-6\"], [1, \"text-lg\"], [1, \"bg-white\", \"border-b\", \"dark:bg-gray-800\", \"dark:border-teal-500\"], [\"scope\", \"row\", 1, \"py-4\", \"px-6\", \"font-medium\", \"text-gray-900\", \"whitespace-nowrap\", \"dark:text-white\"], [1, \"py-4\", \"px-6\"], [\"type\", \"text\", 1, \"w-auto\", 3, \"ngModel\", \"ngModelChange\"], [1, \"ml-5\", 2, \"color\", \"red\", 3, \"hidden\"], [1, \"flex\", \"justify-center\"], [1, \"mt-5\", \"mb-10\", \"inline-flex\", \"items-center\", \"px-4\", \"py-2\", \"text-xl\", \"font-medium\", \"text-center\", \"text-white\", \"bg-blue-700\", \"rounded-lg\", \"hover:bg-[#134e4a]\", \"focus:ring-4\", \"focus:outline-none\", \"focus:ring-blue-300\", \"dark:bg-[#0f766e]\", \"dark:hover:bg-[#134e4a]\", \"dark:focus:[#134e4a]\", 3, \"click\"]],\n  template: function PedidoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h1\", 0);\n      i0.ɵɵtext(2, \" Introduce los datos de envio: \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"table\", 2)(5, \"thead\", 3)(6, \"tr\");\n      i0.ɵɵelement(7, \"th\", 4)(8, \"th\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"tbody\", 5)(10, \"tr\", 6)(11, \"th\", 7);\n      i0.ɵɵtext(12, \" Nombre completo: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"td\", 8)(14, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PedidoComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.pedido.nombre = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"span\", 10);\n      i0.ɵɵtext(16, \"Error en el nombre\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tr\", 6)(18, \"th\", 7);\n      i0.ɵɵtext(19, \" Direccion de envio: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"td\", 8)(21, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PedidoComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.pedido.direccion = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"span\", 10);\n      i0.ɵɵtext(23, \"Error en la direccion de envio\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"tr\", 6)(25, \"th\", 7);\n      i0.ɵɵtext(26, \" Codigo postal: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"td\", 8)(28, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PedidoComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.pedido.cp = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"span\", 10);\n      i0.ɵɵtext(30, \"Error en el codigo postal\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"tr\", 6)(32, \"th\", 7);\n      i0.ɵɵtext(33, \" Provincia: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"td\", 8)(35, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PedidoComponent_Template_input_ngModelChange_35_listener($event) {\n        return ctx.pedido.provincia = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"span\", 10);\n      i0.ɵɵtext(37, \"Error en la provincia\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(38, \"tr\", 6)(39, \"th\", 7);\n      i0.ɵɵtext(40, \" Telefono: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"td\", 8)(42, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PedidoComponent_Template_input_ngModelChange_42_listener($event) {\n        return ctx.pedido.telefono = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"span\", 10);\n      i0.ɵɵtext(44, \"Error en el telefono\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(45, \"tr\", 6)(46, \"th\", 7);\n      i0.ɵɵtext(47, \" Email: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"td\", 8)(49, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PedidoComponent_Template_input_ngModelChange_49_listener($event) {\n        return ctx.pedido.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"span\", 10);\n      i0.ɵɵtext(51, \"Error en el email\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(52, \"tr\", 6)(53, \"th\", 7);\n      i0.ɵɵtext(54, \" Numero tarjeta de credito: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"td\", 8)(56, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PedidoComponent_Template_input_ngModelChange_56_listener($event) {\n        return ctx.pedido.tarjeta = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"span\", 10);\n      i0.ɵɵtext(58, \"Error en el numero de la tarjeta\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelement(59, \"br\");\n      i0.ɵɵelementStart(60, \"div\", 11)(61, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function PedidoComponent_Template_button_click_61_listener() {\n        return ctx.finalizarPedido();\n      });\n      i0.ɵɵtext(62, \" FINALIZAR PEDIDO \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.pedido.nombre);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.nombreOk);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.pedido.direccion);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.direccionOk);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.pedido.cp);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.cpOk);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.pedido.provincia);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.provinciaOk);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.pedido.telefono);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.telefonoOk);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.pedido.email);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.emailOk);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.pedido.tarjeta);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.tarjetaOk);\n    }\n  },\n  dependencies: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["PedidoComponent","constructor","servicio","router","finalizarPedido","validarForm","registrarPedido","pedido","subscribe","res","pedidoOk","alert","navigate","nombre","undefined","nombreOk","test","direccion","direccionOk","cp","cpOk","provincia","provinciaOk","telefono","telefonoOk","email","emailOk","tarjeta","tarjetaOk","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\Angular\\ProyectoAngular2\\src\\app\\pedido\\pedido.component.ts","D:\\Angular\\ProyectoAngular2\\src\\app\\pedido\\pedido.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MiServicioService } from '../mi-servicio.service';\nimport { Pedido } from '../models/pedido';\n\n@Component({\n  selector: 'app-pedido',\n  templateUrl: './pedido.component.html',\n  styleUrls: ['./pedido.component.css'],\n})\nexport class PedidoComponent {\n  pedido: Pedido = {} as Pedido;\n  nombreOk = true;\n  direccionOk = true;\n  cpOk = true;\n  provinciaOk = true;\n  telefonoOk = true;\n  emailOk = true;\n  tarjetaOk = true;\n  constructor(private servicio: MiServicioService, private router: Router) {}\n\n  finalizarPedido() {\n    if (this.validarForm()) {\n      this.servicio\n        .registrarPedido(this.pedido)\n        .subscribe((res) =>\n          res == 'ok'\n            ? this.pedidoOk()\n            : alert('No se pudo registrar tu pedido')\n        );\n    }\n  }\n  pedidoOk() {\n    alert('Pedido realizado exitosamente, puedes seguir comprando');\n    this.router.navigate(['listado']);\n  }\n  validarForm() {\n    if (this.pedido.nombre === undefined) {\n      alert('Debes insertar un nombre');\n      this.nombreOk = false;\n      return false;\n    }\n    if (/^[a-zA-Z ]{2,30}$/.test(this.pedido.nombre)) {\n      this.nombreOk = true;\n    } else {\n      alert('Nombre debe tener de 2 a 30 caracteres, solo letras y espacios');\n      this.nombreOk = false;\n      return false;\n    }\n\n    if (this.pedido.direccion === undefined) {\n      alert('Debes insertar una direccion');\n      this.direccionOk = false;\n      return false;\n    }\n    if (/^[a-zA-Z0-9 ]{3,30}$/.test(this.pedido.direccion)) {\n      this.direccionOk = true;\n    } else {\n      alert(\n        'Direccion debe tener de 3 a 30 caracteres, solo letras y espacios'\n      );\n      this.direccionOk = false;\n      return false;\n    }\n\n    if (this.pedido.cp === undefined) {\n      alert('Debes insertar una codigo postal');\n      this.cpOk = false;\n      return false;\n    }\n    if (/^[0-9 ]{5}$/.test(this.pedido.cp)) {\n      this.cpOk = true;\n    } else {\n      alert('Codigo postal debe tener 5 caracteres, solo numeros');\n      this.cpOk = false;\n      return false;\n    }\n\n    if (this.pedido.provincia === undefined) {\n      alert('Debes insertar una provincia');\n      this.provinciaOk = false;\n      return false;\n    }\n    if (/^[a-zA-Z ]{3,30}$/.test(this.pedido.provincia)) {\n      this.provinciaOk = true;\n    } else {\n      alert(\n        'Provincia debe tener de 3 a 30 caracteres, solo letras y espacios'\n      );\n      this.provinciaOk = false;\n      return false;\n    }\n\n    if (this.pedido.telefono === undefined) {\n      alert('Debes insertar un telefono');\n      this.telefonoOk = false;\n      return false;\n    }\n    if (/^[0-9 ]{9}$/.test(this.pedido.telefono)) {\n      this.telefonoOk = true;\n    } else {\n      alert('Telefono debe tener 9 caracteres, solo numeros');\n      this.telefonoOk = false;\n      return false;\n    }\n\n    if (this.pedido.email === undefined) {\n      alert('Debes insertar un email');\n      this.emailOk = false;\n      return false;\n    }\n    if (\n      /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i.test(\n        this.pedido.email\n      )\n    ) {\n      this.emailOk = true;\n    } else {\n      alert('email debe tener de 10 a 30 caracteres, incluyendo @ y punto');\n      this.emailOk = false;\n      return false;\n    }\n    if (this.pedido.tarjeta === undefined) {\n      alert('Debes insertar una tarjeta');\n      this.tarjetaOk = false;\n      return false;\n    }\n    if (/^[0-9 ]{16}$/.test(this.pedido.tarjeta)) {\n      this.tarjetaOk = true;\n    } else {\n      alert('Tarjeta debe tener 16 caracteres, solo numeros');\n      this.tarjetaOk = false;\n      return false;\n    }\n    return true;\n  }\n}\n","<div>\n  <h1\n    class=\"w-[30rem] m-auto rounded-lg bg-[#0f172a] p-3 my-10 text-white text-xl lg:text-xl text-center\"\n    style=\"font-family: 'Dancing Script', cursive, sans-serif\"\n  >\n    Introduce los datos de envio:\n  </h1>\n</div>\n\n<div class=\"w-full overflow-x-auto relative sm:rounded-lg\">\n  <table class=\"w-auto text-sm text-left text-gray-600 m-auto w_auto shadow-md\">\n    <thead\n      class=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\"\n    >\n      <tr>\n        <th scope=\"col\" class=\"py-3 px-6\"></th>\n        <th scope=\"col\" class=\"py-3 px-6\"></th>\n      </tr>\n    </thead>\n    <tbody class=\"text-lg\">\n      <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-teal-500\">\n        <th\n          scope=\"row\"\n          class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\"\n        >\n          Nombre completo:\n        </th>\n        <td class=\"py-4 px-6\">\n          <input class=\"w-auto\" type=\"text\" [(ngModel)]=\"pedido.nombre\" />\n          <span class=\"ml-5\" [hidden]=\"nombreOk\" style=\"color: red\"\n            >Error en el nombre</span\n          >\n        </td>\n      </tr>\n      <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-teal-500\">\n        <th\n          scope=\"row\"\n          class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\"\n        >\n          Direccion de envio:\n        </th>\n        <td class=\"py-4 px-6\">\n          <input class=\"w-auto\" type=\"text\" [(ngModel)]=\"pedido.direccion\" />\n          <span class=\"ml-5\" [hidden]=\"direccionOk\" style=\"color: red\"\n            >Error en la direccion de envio</span\n          >\n        </td>\n      </tr>\n      <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-teal-500\">\n        <th\n          scope=\"row\"\n          class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\"\n        >\n          Codigo postal:\n        </th>\n        <td class=\"py-4 px-6\">\n          <input class=\"w-auto\" type=\"text\" [(ngModel)]=\"pedido.cp\" />\n          <span class=\"ml-5\" [hidden]=\"cpOk\" style=\"color: red\"\n            >Error en el codigo postal</span\n          >\n        </td>\n      </tr>\n      <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-teal-500\">\n        <th\n          scope=\"row\"\n          class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\"\n        >\n          Provincia:\n        </th>\n        <td class=\"py-4 px-6\">\n          <input class=\"w-auto\" type=\"text\" [(ngModel)]=\"pedido.provincia\" />\n          <span class=\"ml-5\" [hidden]=\"provinciaOk\" style=\"color: red\"\n            >Error en la provincia</span\n          >\n        </td>\n      </tr>\n      <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-teal-500\">\n        <th\n          scope=\"row\"\n          class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\"\n        >\n          Telefono:\n        </th>\n        <td class=\"py-4 px-6\">\n          <input class=\"w-auto\" type=\"text\" [(ngModel)]=\"pedido.telefono\" />\n          <span class=\"ml-5\" [hidden]=\"telefonoOk\" style=\"color: red\"\n            >Error en el telefono</span\n          >\n        </td>\n      </tr>\n      <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-teal-500\">\n        <th\n          scope=\"row\"\n          class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\"\n        >\n          Email:\n        </th>\n        <td class=\"py-4 px-6\">\n          <input class=\"w-auto\" type=\"text\" [(ngModel)]=\"pedido.email\" />\n          <span class=\"ml-5\" [hidden]=\"emailOk\" style=\"color: red\"\n            >Error en el email</span\n          >\n        </td>\n      </tr>\n      <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-teal-500\">\n        <th\n          scope=\"row\"\n          class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\"\n        >\n          Numero tarjeta de credito:\n        </th>\n        <td class=\"py-4 px-6\">\n          <input class=\"w-auto\" type=\"text\" [(ngModel)]=\"pedido.tarjeta\" />\n          <span class=\"ml-5\" [hidden]=\"tarjetaOk\" style=\"color: red\"\n            >Error en el numero de la tarjeta</span\n          >\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<br />\n<div class=\"flex justify-center\">\n  <button\n    class=\"mt-5 mb-10 inline-flex items-center px-4 py-2 text-xl font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-[#134e4a] focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-[#0f766e] dark:hover:bg-[#134e4a] dark:focus:[#134e4a]\"\n    (click)=\"finalizarPedido()\"\n  >\n    FINALIZAR PEDIDO\n  </button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}