{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../mi-servicio.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction CarritoComponent_tbody_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\", 13)(1, \"tr\", 14)(2, \"td\", 15);\n    i0.ɵɵelement(3, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 17);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 17);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 17)(9, \"input\", 18);\n    i0.ɵɵlistener(\"input\", function CarritoComponent_tbody_14_Template_input_input_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const cc_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onValueChange($event, cc_r3.cd.id));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\", 19)(11, \"a\", 20);\n    i0.ɵɵlistener(\"click\", function CarritoComponent_tbody_14_Template_a_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const cc_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.eliminarProductoCarrito(cc_r3.cd.id));\n    });\n    i0.ɵɵtext(12, \"Borrar producto\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const cc_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"server/imagenes/\", cc_r3.cd.id, \".jpg\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", cc_r3.cd.titulo, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", cc_r3.cd.precio, \" \\u20AC \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"value\", cc_r3.cantidad);\n  }\n}\nfunction CarritoComponent_button_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CarritoComponent_button_23_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.previousPage());\n    });\n    i0.ɵɵtext(1, \" ANTERIOR\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CarritoComponent_button_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CarritoComponent_button_25_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.nextPage());\n    });\n    i0.ɵɵtext(1, \" SIGUIENTE \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CarritoComponent {\n  constructor(miServicio, router) {\n    this.miServicio = miServicio;\n    this.router = router;\n    this.cdsCarrito = {};\n    this.currentPage = 1;\n    this.itemsPerPage = 9;\n    this.totalPages = 0;\n  }\n  ngOnInit() {\n    this.listarCdsCarrito();\n  }\n  listarCdsCarrito() {\n    this.miServicio.obtenerCdsCarrito().subscribe(res => {\n      this.cdsCarrito = res;\n      this.totalPages = Math.ceil(this.cdsCarrito.length / this.itemsPerPage);\n    });\n  }\n  vaciarCarrito() {\n    this.miServicio.vaciarCarrito().subscribe(res => res == 'ok' ? this.cdsCarrito = [] : alert('no pude vaciar el carrito'));\n  }\n  realizarPedido() {\n    if (this.cdsCarrito.length === undefined || this.cdsCarrito.length == 0) {\n      alert('El carrito no puede estar vacio. Agrega un producto para realizar el pedido');\n      return;\n    }\n    this.router.navigate(['pedido']);\n  }\n  nextPage() {\n    this.currentPage++;\n  }\n  previousPage() {\n    this.currentPage--;\n  }\n  eliminarProductoCarrito(id) {\n    this.miServicio.eliminarProductoCarrito(id).subscribe(res => res == 'vacio' ? this.cdsCarrito = [] : this.listarCdsCarrito);\n  }\n  onValueChange(event, idCd) {\n    let cantidad = event.target.value;\n    if (cantidad > 0) {\n      this.miServicio.actualizarCantidadCarrito(idCd, cantidad).subscribe(res => console.log(res));\n    }\n  }\n}\nCarritoComponent.ɵfac = function CarritoComponent_Factory(t) {\n  return new (t || CarritoComponent)(i0.ɵɵdirectiveInject(i1.MiServicioService), i0.ɵɵdirectiveInject(i2.Router));\n};\nCarritoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CarritoComponent,\n  selectors: [[\"app-carrito\"]],\n  decls: 34,\n  vars: 9,\n  consts: [[1, \"\"], [1, \"w-full\", \"mt-10\"], [1, \"min-w-max\", \"w-[50rem]\", \"m-auto\", \"table-auto\", \"shadow-xl\"], [1, \"bg-[#0f766e]\", \"text-white\", \"uppercase\", \"text-sm\", \"leading-normal\"], [1, \"text-lg\", \"py-3\", \"px-6\", \"text-center\"], [\"class\", \"text-[#0f172a] text-sm font-light\", 4, \"ngFor\", \"ngForOf\"], [1, \"pagination-container\", \"d-flex\", \"justify-content-center\", \"align-items-center\"], [1, \"pagination\", \"text-center\"], [\"class\", \"inline-flex items-center px-4 py-2 text-xl font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-[#134e4a] focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-[#0f766e] dark:hover:bg-[#134e4a] dark:focus:[#134e4a]\", 3, \"click\", 4, \"ngIf\"], [2, \"text-align\", \"center\", \"margin\", \"30px\", \"font-size\", \"1.5em\"], [1, \"mb-5\", \"mt-10\", \"inline-flex\", \"items-center\", \"px-4\", \"py-2\", \"text-xl\", \"font-medium\", \"text-center\", \"text-white\", \"bg-blue-400\", \"rounded-lg\", \"hover:bg-blue-500\", \"focus:ring-4\", \"focus:outline-none\", \"focus:ring-blue-300\"], [3, \"click\"], [1, \"mb-10\", \"mt-10\", \"inline-flex\", \"items-center\", \"px-4\", \"py-2\", \"text-xl\", \"font-medium\", \"text-center\", \"text-white\", \"bg-red-500\", \"rounded-lg\", \"hover:bg-red-700\", \"focus:ring-4\", \"focus:outline-none\"], [1, \"text-[#0f172a]\", \"text-sm\", \"font-light\"], [1, \"border-b\", \"border-[#0f766e]\", \"hover:bg-gray-200\", \"bg-white\"], [1, \"px-6\", \"text-center\", \"whitespace-nowrap\"], [1, \"h-28\", \"w-28\", \"mt-10\", \"mb-3\", \"rounded-full\", \"shadow-lg\", 3, \"src\"], [1, \"text-lg\", \"py-3\", \"px-6\", \"text-center\", \"whitespace-nowrap\"], [\"type\", \"number\", \"min\", \"1\", 1, \"ml-4\", \"w-[3rem]\", 3, \"value\", \"input\"], [1, \"text-lg\", \"py-3\", \"px-6\", \"text-left\", \"whitespace-nowrap\"], [\"href\", \"#\", 1, \"rounded-lg\", \"bg-red-500\", \"p-2\", \"text-white\", \"font-bold\", \"hover:bg-red-700\", \"enlace_borrar_producto\", 3, \"click\"], [1, \"inline-flex\", \"items-center\", \"px-4\", \"py-2\", \"text-xl\", \"font-medium\", \"text-center\", \"text-white\", \"bg-blue-700\", \"rounded-lg\", \"hover:bg-[#134e4a]\", \"focus:ring-4\", \"focus:outline-none\", \"focus:ring-blue-300\", \"dark:bg-[#0f766e]\", \"dark:hover:bg-[#134e4a]\", \"dark:focus:[#134e4a]\", 3, \"click\"]],\n  template: function CarritoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"table\", 2)(3, \"thead\")(4, \"tr\", 3)(5, \"th\", 4);\n      i0.ɵɵtext(6, \"Portada\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\", 4);\n      i0.ɵɵtext(8, \"Titulo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\", 4);\n      i0.ɵɵtext(10, \"Precio/Unidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 4);\n      i0.ɵɵtext(12, \"Cantidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"th\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(14, CarritoComponent_tbody_14_Template, 13, 4, \"tbody\", 5);\n      i0.ɵɵpipe(15, \"slice\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 6)(17, \"div\", 7);\n      i0.ɵɵelement(18, \"br\");\n      i0.ɵɵelementStart(19, \"span\");\n      i0.ɵɵtext(20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"br\")(22, \"br\");\n      i0.ɵɵtemplate(23, CarritoComponent_button_23_Template, 2, 0, \"button\", 8);\n      i0.ɵɵtext(24, \"\\u00A0\\u00A0\\u00A0 \");\n      i0.ɵɵtemplate(25, CarritoComponent_button_25_Template, 2, 0, \"button\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 9)(27, \"h1\", 10)(28, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CarritoComponent_Template_button_click_28_listener() {\n        return ctx.realizarPedido();\n      });\n      i0.ɵɵtext(29, \"REALIZAR PEDIDO\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(30, \" \\u00A0\\u00A0\\u00A0 \");\n      i0.ɵɵelementStart(31, \"h1\", 12)(32, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CarritoComponent_Template_button_click_32_listener() {\n        return ctx.vaciarCarrito();\n      });\n      i0.ɵɵtext(33, \"VACIAR CARRITO\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(15, 5, ctx.cdsCarrito, (ctx.currentPage - 1) * ctx.itemsPerPage, ctx.currentPage * ctx.itemsPerPage));\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate2(\"P\\u00E1gina \", ctx.currentPage, \" de \", ctx.totalPages, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentPage !== 1);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentPage !== ctx.totalPages);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i3.SlicePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CarritoComponent","constructor","miServicio","router","totalPages","ngOnInit","listarCdsCarrito","obtenerCdsCarrito","subscribe","res","cdsCarrito","Math","ceil","length","itemsPerPage","vaciarCarrito","alert","realizarPedido","undefined","navigate","nextPage","currentPage","previousPage","eliminarProductoCarrito","id","onValueChange","event","idCd","cantidad","target","value","actualizarCantidadCarrito","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Angular\\ProyectoAngular2\\src\\app\\carrito\\carrito.component.html","D:\\Angular\\ProyectoAngular2\\src\\app\\carrito\\carrito.component.ts"],"sourcesContent":["<!-- <h1\n  class=\"mt-auto w-[50rem] m-auto rounded-lg bg-[#0f172a] p-3 my-10 text-white text-3xl lg:text-4xl text-center\"\n  style=\"font-family: 'Dancing Script', cursive, sans-serif\"\n>\n  Productos en el carrito:\n</h1>\n<br /> -->\n<div class=\"\">\n  <div class=\"w-full mt-10\">\n    <table class=\"min-w-max w-[50rem] m-auto table-auto shadow-xl\">\n      <thead>\n        <tr class=\"bg-[#0f766e] text-white uppercase text-sm leading-normal\">\n          <th class=\"text-lg py-3 px-6 text-center\">Portada</th>\n          <th class=\"text-lg py-3 px-6 text-center\">Titulo</th>\n          <th class=\"text-lg py-3 px-6 text-center\">Precio/Unidad</th>\n          <th class=\"text-lg py-3 px-6 text-center\">Cantidad</th>\n          <th class=\"text-lg py-3 px-6 text-center\"></th>\n        </tr>\n      </thead>\n      <tbody\n        class=\"text-[#0f172a] text-sm font-light\"\n        *ngFor=\"\n          let cc of cdsCarrito\n            | slice\n              : (currentPage - 1) * itemsPerPage\n              : currentPage * itemsPerPage\n        \"\n      >\n        <tr class=\"border-b border-[#0f766e] hover:bg-gray-200 bg-white\">\n          <td class=\"px-6 text-center whitespace-nowrap\">\n            <img\n              class=\"h-28 w-28 mt-10 mb-3 rounded-full shadow-lg\"\n              src=\"server/imagenes/{{ cc.cd.id }}.jpg\"\n            />\n          </td>\n          <td class=\"text-lg py-3 px-6 text-center whitespace-nowrap\">\n            {{ cc.cd.titulo }}\n          </td>\n          <td class=\"text-lg py-3 px-6 text-center whitespace-nowrap\">\n            {{ cc.cd.precio }} €\n          </td>\n          <td class=\"text-lg py-3 px-6 text-center whitespace-nowrap\">\n            <input\n              type=\"number\"\n              min=\"1\"\n              value=\"{{ cc.cantidad }}\"\n              (input)=\"onValueChange($event, cc.cd.id)\"\n              class=\"\"\n              class=\"ml-4 w-[3rem]\"\n            />\n          </td>\n          <td class=\"text-lg py-3 px-6 text-left whitespace-nowrap\">\n            <a\n              href=\"#\"\n              (click)=\"eliminarProductoCarrito(cc.cd.id)\"\n              class=\"rounded-lg bg-red-500 p-2 text-white font-bold hover:bg-red-700 enlace_borrar_producto\"\n              >Borrar producto</a\n            >\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div\n    class=\"pagination-container d-flex justify-content-center align-items-center\"\n  >\n    <div class=\"pagination text-center\">\n      <br />\n      <span>Página {{ currentPage }} de {{ totalPages }}</span\n      ><br />\n      <br />\n      <button\n        *ngIf=\"currentPage !== 1\"\n        (click)=\"previousPage()\"\n        class=\"inline-flex items-center px-4 py-2 text-xl font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-[#134e4a] focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-[#0f766e] dark:hover:bg-[#134e4a] dark:focus:[#134e4a]\"\n      >\n        ANTERIOR</button\n      >&nbsp;&nbsp;&nbsp;\n\n      <button\n        class=\"inline-flex items-center px-4 py-2 text-xl font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-[#134e4a] focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-[#0f766e] dark:hover:bg-[#134e4a] dark:focus:[#134e4a]\"\n        *ngIf=\"currentPage !== totalPages\"\n        (click)=\"nextPage()\"\n      >\n        SIGUIENTE\n      </button>\n    </div>\n  </div>\n  <div style=\"text-align: center; margin: 30px; font-size: 1.5em\">\n    <h1\n      class=\"mb-5 mt-10 inline-flex items-center px-4 py-2 text-xl font-medium text-center text-white bg-blue-400 rounded-lg hover:bg-blue-500 focus:ring-4 focus:outline-none focus:ring-blue-300\"\n    >\n      <button (click)=\"realizarPedido()\">REALIZAR PEDIDO</button>\n    </h1>\n    &nbsp;&nbsp;&nbsp;\n    <h1\n      class=\"mb-10 mt-10 inline-flex items-center px-4 py-2 text-xl font-medium text-center text-white bg-red-500 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none\"\n    >\n      <button (click)=\"vaciarCarrito()\">VACIAR CARRITO</button>\n    </h1>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MiServicioService } from '../mi-servicio.service';\nimport { CdCarrito } from '../models/cdCarrito';\n\n@Component({\n  selector: 'app-carrito',\n  templateUrl: './carrito.component.html',\n  styleUrls: ['./carrito.component.css'],\n})\nexport class CarritoComponent {\n  cdsCarrito: CdCarrito[] = {} as CdCarrito[];\n  currentPage = 1;\n  itemsPerPage = 9;\n  totalPages: number;\n  constructor(private miServicio: MiServicioService, private router: Router) {\n    this.totalPages = 0;\n  }\n\n  ngOnInit(): void {\n    this.listarCdsCarrito();\n  }\n  listarCdsCarrito() {\n    this.miServicio.obtenerCdsCarrito().subscribe((res) => {\n      this.cdsCarrito = res;\n      this.totalPages = Math.ceil(this.cdsCarrito.length / this.itemsPerPage);\n    });\n  }\n  vaciarCarrito() {\n    this.miServicio\n      .vaciarCarrito()\n      .subscribe((res) =>\n        res == 'ok'\n          ? (this.cdsCarrito = [])\n          : alert('no pude vaciar el carrito')\n      );\n  }\n  realizarPedido() {\n    if (this.cdsCarrito.length === undefined || this.cdsCarrito.length == 0) {\n      alert(\n        'El carrito no puede estar vacio. Agrega un producto para realizar el pedido'\n      );\n      return;\n    }\n    this.router.navigate(['pedido']);\n  }\n  nextPage() {\n    this.currentPage++;\n  }\n  previousPage() {\n    this.currentPage--;\n  }\n  eliminarProductoCarrito(id: number): void {\n    this.miServicio\n      .eliminarProductoCarrito(id)\n\n      .subscribe((res) =>\n        res == 'vacio' ? (this.cdsCarrito = []) : this.listarCdsCarrito\n      );\n  }\n  onValueChange(event: any, idCd: number): void {\n    let cantidad = event.target.value;\n    if (cantidad > 0) {\n      this.miServicio\n        .actualizarCantidadCarrito(idCd, cantidad)\n        .subscribe((res) => console.log(res));\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}